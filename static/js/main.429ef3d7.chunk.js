(this["webpackJsonpreact-spotify-player"]=this["webpackJsonpreact-spotify-player"]||[]).push([[0],{146:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII="},149:function(e,t,a){e.exports=a.p+"static/media/sketchyFavicon.4ab11064.png"},150:function(e,t,a){e.exports=a(374)},155:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},302:function(e,t,a){},341:function(e,t){},344:function(e,t,a){},345:function(e,t,a){},366:function(e,t,a){},367:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(140),r=a.n(c),o=(a(155),a(3)),l=a(32),i=a.n(l),m=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{});window.location.hash="";var u=m,p=a(14),d=a(141),f=a(6),E=a(13),g=a(47),v=a(21),h=a.n(v),b=a(24),y=a.n(b),N=a(46),A=a.n(N);a(298);E.b.add(g.a);var j,O,S=function(e){var t=e.item,a=e.isPlaying,c=e.progressms,r=e.season,l=r?"seasonStyling":"",m=r?"seasonStylingAlt":"",E=Object(n.useState)([]),g=Object(o.a)(E,2),v=g[0],b=g[1],N=u.access_token,j=function(){if(v.length>6&&(v.shift(),v.shift(),v.shift(),v.shift(),v.shift(),v.shift()),v.colors)return v.colors.map((function(e,t){return s.a.createElement("div",{key:t,style:{backgroundColor:e,width:60,height:15}})}))},O=c,S=0,k="0000-00-00",w="string"===typeof k?k.split("-")[0]:"",C="",I="",_="",x="";t&&(S=t.duration_ms,w="string"===typeof(k=t.album.release_date)?k.split("-")[0]:"",C=t.album.images[0].url,_=h()(O).format("mm:ss"),x=h()(S).format("mm:ss"),t.artists.map((function(e){return I+="| ".concat(e.name," |")})));var M={width:100*O/S+"%"};return s.a.createElement("div",{className:"now-playing__side"},s.a.createElement(d.a,{getColors:function(e){return b((function(){return{colors:[v].concat(Object(p.a)(e))}}))}},s.a.createElement("img",{src:C,className:"image_styles"})),s.a.createElement("div",{className:"swatches_styles"},j()),s.a.createElement("div",null,s.a.createElement("img",{src:C,className:"now-playing__img"})),s.a.createElement("div",{className:"swatches_styles"},j()),s.a.createElement("div",{className:"now-playing__name"},s.a.createElement(A.a,{interval:2e3},["a",""].map((function(e){return s.a.createElement(y.a,{className:"pomodoroTitle",avgTypingDelay:90,key:e,startDelay:0,cursor:{show:!0,blink:!0,element:"",hideWhenDone:!1,hideWhenDoneDelay:1e3}},t.name)})))),s.a.createElement("div",{className:"now-playing__artist"},I),s.a.createElement("div",{className:"now-playing__album"},t.album.name," - ",w),s.a.createElement("div",{className:"now-playing__status"},s.a.createElement("div",null,s.a.createElement("button",{className:"skipbuttons ".concat(l),onClick:function(){i()({method:"post",url:"https://api.spotify.com/v1/me/player/previous",headers:{Authorization:"Bearer ".concat(N)}}).then((function(){console.log("replayed song")}))}},s.a.createElement(f.a,{className:"controlButtonsColouring",icon:["fas","arrow-alt-circle-left"]}))),a?"playing":"paused",s.a.createElement("div",null,s.a.createElement("button",{className:"skipbuttons ".concat(l),onClick:function(){i()({method:"post",url:"https://api.spotify.com/v1/me/player/next",headers:{Authorization:"Bearer ".concat(N)}}).then((function(){console.log("skipped song")}))}},s.a.createElement(f.a,{className:"controlButtonsColouring",icon:["fas","arrow-alt-circle-right"]})))),s.a.createElement("div",{className:"duration-menu"},s.a.createElement("p",{className:"duration-menu__times"},_),s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"progress__bar ".concat(m," "),style:M})),s.a.createElement("p",{className:"duration-menu__times"},x)))},k=(a(299),1499),w=25..toString(),C="00",I=!1,_="press on the play button below to begin";E.b.add(g.a);var x,M=function(e){var t=e.season,a=t?"seasonStyling":"",c=t?"seasonStylingAlt":"",r=Object(n.useState)(!1),l=Object(o.a)(r,2),i=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(o.a)(u,2),d=p[0],E=p[1],g=Object(n.useState)(!1),v=Object(o.a)(g,2),h=v[0],b=v[1],y=Object(n.useState)(!1),N=Object(o.a)(y,2),A=(N[0],N[1],function(){E(!1),i||(k=1499,_=t?"spookspookspookspookspook":"WorkWorkWorkWorkWork",k++,x(k),I=!0,j=setInterval((function(){k>0?(k--,x(k),I=!0):(clearInterval(j),S())}),1e3),m(!0),b(!0))}),S=function(){k=300,_=t?"2sp00ky4me":"RestRestRestRestRest",k++,O=setInterval((function(){k>0?(k--,x(k),!0):(clearInterval(O),A())}),1e3)},x=function(e){var t=60*(w=Math.floor(e/60));w<10&&(w=0===w?"00":"0"+w.toString()),(C=e-t)<10&&(C=0===C?"00":"0"+C.toString())};return s.a.createElement("div",null,s.a.createElement("div",{className:"pomodoroHeader"},s.a.createElement("div",null,s.a.createElement("div",{className:"pomodoroHeaderTitle"},s.a.createElement("div",{className:"iconsSpacing ".concat(a,"Icons")},s.a.createElement(f.a,{icon:t?["fas","spider"]:["fas","pizza-slice"]})),s.a.createElement("div",{className:"iconsSpacing ".concat(c,"Icons")},s.a.createElement(f.a,{icon:t?["fas","ghost"]:["fas","utensils"]})),s.a.createElement("h1",{className:"pomodoroHeaderTitleText"},t?"pomodorooooo":"pomodoro"),s.a.createElement("div",{className:"iconsSpacing ".concat(c,"Icons")},s.a.createElement(f.a,{icon:t?["fas","ghost"]:["fas","utensils"]})),s.a.createElement("div",{className:"iconsSpacing ".concat(a,"Icons")},s.a.createElement(f.a,{icon:t?["fas","spider"]:["fas","pizza-slice"]})))),s.a.createElement("p",null,_)),s.a.createElement("div",{className:"pomodoroPanel"},s.a.createElement("button",{className:"controlButtons-pizzaslice ".concat(a),onClick:A,disabled:h},t?s.a.createElement(f.a,{className:"controlButtonsColouring",icon:["fas","spider"]}):s.a.createElement(f.a,{icon:["fas","pizza-slice"]})),s.a.createElement("button",{className:"controlButtons ".concat(c),onClick:function(){m(!1),b(!1),d||(_=t?"2sp00ky4me":"RestRestRestRestRest",clearInterval(j),I=!1,x(k=1500),E(!0))},disabled:d},s.a.createElement(f.a,{icon:["fas","undo"]})),s.a.createElement("button",{className:"controlButtons ".concat(c),onClick:A,disabled:i},I?s.a.createElement(f.a,{icon:["fas","pause"]}):s.a.createElement(f.a,{icon:["fas","play"]})),s.a.createElement("p",{className:"countdown ".concat(a)},s.a.createElement("div",{className:"controlButtonsColouring"},w,":",C))))},B=a(48),R=a(4),D=(a(300),a(301),a(302),function(e){for(var t=e.season,a=Object(n.useState)(""),c=Object(o.a)(a,2),r=c[0],l=c[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),u=m[0],p=m[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),E=f[0],g=f[1],v=t?"seasonStyling":"",h=t?"seasonStylingAlt":"",b=[],y=12;y>=1;y--)b.push("GMTplus"+y.toString());b.push("GMT");for(var N=1;N<=11;N++)b.push("GMTminus"+N.toString());return s.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},s.a.createElement("h1",{className:"heading ".concat(h,"Header")},"chat"),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"name",className:"joinInput",type:"text",onChange:function(e){return l(e.target.value)}})),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"room",className:"joinInput mt-20",type:"text",onChange:function(e){return p(e.target.value)}})),s.a.createElement("div",null,s.a.createElement("select",{className:"joinInput mt-20",defaultValue:"default",onChange:function(e){return g(e.target.value)}},s.a.createElement("option",{value:"default"},"choose your timezone"),b.map((function(e){return s.a.createElement("option",{value:e},e.includes("plus")?e.replace("plus","+"):e.replace("minus","-"))})))),s.a.createElement(B.b,{onClick:function(e){return r&&u&&E?null:e.preventDefault()},to:"/chat?name=".concat(r,"&room=").concat(u,"&tz=").concat(E)},s.a.createElement("button",{className:"button mt-20 ".concat(v),type:"submit"},"Sign In")))}),z=function(e){var t=e.duplicate,a=e.season;return t?s.a.createElement("div",null,s.a.createElement("div",{className:"joinOuterContainer"},s.a.createElement("div",{className:"joinInnerContainer"},s.a.createElement("p",{className:"duplicatemessage"},"That username is already taken."),s.a.createElement("p",{className:"duplicatemessage"},"Please use another one!"),s.a.createElement(D,{season:a})))):s.a.createElement("div",{className:"joinOuterContainer"},s.a.createElement("div",{className:"joinInnerContainer"},s.a.createElement(D,{season:a})))},T=a(143),W=a.n(T),P=a(144),U=a.n(P),Y=a(145),G=a.n(Y),Q=a(146),K=a.n(Q),L=a(49),H=a.n(L),J=(a(344),function(e){var t=e.room,a=e.season,n=a?"seasonStyling":"";return s.a.createElement("div",{className:"infoBar ".concat(n)},s.a.createElement("div",{className:"leftInnerContainer"},s.a.createElement("img",{className:"onlineIcon",src:H.a,alt:"online"}),s.a.createElement("h3",null,t)),s.a.createElement("div",{className:"rightInnerContainer"},s.a.createElement("a",{href:"https://www.andres-espitia.com/studyfi/#"},s.a.createElement("img",{src:K.a,alt:"close"}))))}),V=(a(345),function(e){var t=e.message,a=e.setMessage,n=e.sendMessage,c=e.item,r=e.season,o=r?"seasonStyling":"";return s.a.createElement("form",{className:"form"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Enter a message...",value:t,onChange:function(e){return a(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),s.a.createElement("button",{className:"sendButton ".concat(o),onClick:function(e){return n(e)}},"Send"),s.a.createElement("button",{className:"sendButton ".concat(o),onClick:function(e){return function(e){var t="I'm listening to: ".concat(c.name," "),s="";c.artists.map((function(e){s+="- ".concat(e.name," ")})),s=s.substring(0,s.length-1),a(t+=s),n(e)}(e)}},"Share song!"))}),X=a(147),F=a.n(X),Z=a(83),q=a.n(Z),$=(a(366),function(e){var t=e.message,a=t.user,n=t.text,c=t.currentTime,r=e.name,o=e.season,l=!1,i=o?"seasonStyling":"",m=o?"seasonStylingAlt":"",u=r.trim().toLowerCase();return a===u&&(l=!0),l?s.a.createElement("div",null,s.a.createElement("p",{className:"timestamp"},c),s.a.createElement("div",{className:"messageContainer justifyEnd"},s.a.createElement("p",{className:"sentText pr-10"},u),s.a.createElement("div",{className:"messageBox backgroundMain ".concat(i)},s.a.createElement("p",{className:"messageText colorWhite "},q.a.emojify(n))))):s.a.createElement("div",null,s.a.createElement("p",{className:"timestampotherusers"},c),s.a.createElement("div",{className:"messageContainer justifyStart"},s.a.createElement("div",{className:"messageBox backgroundLight ".concat(m)},s.a.createElement("p",{className:"messageText colorDark"},q.a.emojify(n))),s.a.createElement("p",{className:"sentText pl-10"},a)))}),ee=(a(367),function(e){var t=e.messages,a=e.name,n=e.season;return s.a.createElement(F.a,{className:"messages"},t.filter((function(e,t,a){return a.indexOf(e)===t})).map((function(e,t){return s.a.createElement("div",{key:t},s.a.createElement($,{message:e,name:a,season:n}))})))}),te=(a(368),function(e){var t=e.users;return s.a.createElement("div",{className:"userslist"},t.length>1?s.a.createElement("div",null,s.a.createElement("p",null,"Online:"),s.a.createElement("div",{className:"activeContainer"},s.a.createElement("p",null,t.map((function(e){var t=e.name;return s.a.createElement("div",{key:t,className:"activeItem"},t,s.a.createElement("img",{alt:"Online Icon",src:H.a}))}))))):s.a.createElement("div",null,s.a.createElement("p",null,"Looks like you're alone in this chat room...")))}),ae=(a(369),function(e){var t=e.location,a=e.item,c=e.season,r=Object(n.useState)(""),l=Object(o.a)(r,2),i=l[0],m=l[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),f=d[0],E=d[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),h=v[0],b=v[1],y=Object(n.useState)([]),N=Object(o.a)(y,2),A=N[0],j=N[1],O=Object(n.useState)(""),S=Object(o.a)(O,2),k=S[0],w=S[1],C=Object(n.useState)([]),I=Object(o.a)(C,2),_=I[0],M=I[1],B=Object(n.useState)(!1),R=Object(o.a)(B,2),D=R[0],T=R[1],P="https://react-chat-app-back-end.herokuapp.com/";Object(n.useEffect)((function(){var e=U.a.parse(t.search),a=e.name,n=e.room,s=e.tz;return x=G()(P,{transports:["websocket"]}),m(a),E(n),b(s),x.emit("join",{name:a,room:n,tz:s},(function(){})),x.on("reconnect_attempt",(function(){x.io.opts.transports=["websocket","polling"]})),function(){x.emit("disconnect"),x.off()}}),[P,t.search]),Object(n.useEffect)((function(){x.on("roomData",(function(e){var t=e.users;j(t)})),x.on("duplicate",(function(e){T(e.duplicate)}))})),Object(n.useEffect)((function(){x.on("message",(function(e){var t=h;t=t.includes("minus")?t.replace("minus","+"):t.replace("plus","-"),e.currentTime=W()().tz("Etc/".concat(t)).format("MMM DD h:mm a"),M((function(t){return[].concat(Object(p.a)(t),[e])}))}))}),[i]);return D?s.a.createElement(z,{duplicate:D,season:c}):s.a.createElement("div",{className:"outerContainer"},s.a.createElement("div",{className:"container"},s.a.createElement(J,{room:f,season:c}),s.a.createElement(ee,{messages:_,name:i,season:c}),s.a.createElement(V,{message:k,setMessage:w,sendMessage:function(e){e.preventDefault(),k&&x.emit("sendMessage",k,(function(){return w("")}))},item:a,season:c})),s.a.createElement(te,{users:A}))}),ne=function(e){return s.a.createElement(B.a,{basename:"/studyfi"},s.a.createElement(R.a,{path:"/",exact:!0,render:function(t){return s.a.createElement(z,Object.assign({},t,e))}}),s.a.createElement(R.a,{path:"/chat",exact:!0,render:function(t){return s.a.createElement(ae,Object.assign({},t,e))}}))};a(370);var se=function(e){var t=e.item,a=e.isPlaying,c=e.progressms,r=Object(n.useState)(!1),l=Object(o.a)(r,2),i=l[0],m=l[1];return s.a.createElement("div",null,s.a.createElement("div",{className:"main-wrapper"},s.a.createElement("div",{className:"dashboard-item"},s.a.createElement(M,{season:i})),s.a.createElement("div",{className:"dashboard-item"},s.a.createElement("button",{className:"seasonSelect",onClick:function(){m(!i)}},"Halloween mode!"),s.a.createElement(S,{item:t,isPlaying:a,progressms:c,season:i})),s.a.createElement("div",{className:"dashboard-item"},s.a.createElement(ne,{item:t,season:i}))))},ce=["user-top-read","user-read-currently-playing","user-read-playback-state","user-modify-playback-state"],re=a(148);a(371);E.b.add(re.a);var oe=function(){return s.a.createElement("div",{className:"main-wrapper-landing-page"},s.a.createElement("div",{className:"app-title"},"Studyfi"),s.a.createElement(A.a,{interval:700},["dummytext",""].map((function(e){return s.a.createElement(y.a,{className:"app-description",avgTypingDelay:60,key:e,startDelay:0},"A place to study, listen to music, and chat with friends.")}))),s.a.createElement("a",{className:"login-button",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("53bcecd410634483b5388541c159849d","&redirect_uri=").concat("http://andres-espitia.com/studyfi/","&scope=").concat(ce.join("%20"),"&response_type=token&show_dialog=true"),target:""},s.a.createElement(f.a,{icon:["fab","spotify"],size:"10x"}),s.a.createElement("p",{className:"login-description"},"Login with Spotify")),s.a.createElement("div",{className:"footer"},s.a.createElement("div",null,"\xa9 Studyfi 2020"),s.a.createElement("div",null,"Created by Andres Espitia")))},le=a(50),ie=(a(372),a(149)),me=a.n(ie);var ue=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=(t[0],t[1]),c=function(e,t){return[-(t-window.innerHeight/2)/25,(e-window.innerWidth/2)/25,1.01]},r=Object(le.b)((function(){return{xys:[0,0,1],config:{mass:1,tension:180,friction:10}}})),l=Object(o.a)(r,2),i=l[0],m=l[1];return s.a.createElement("div",{className:"not-found-page-wrapper"},s.a.createElement(y.a,{avgTypingDelay:60,cursor:{show:!0,blink:!0,element:"",hideWhenDone:!1,hideWhenDoneDelay:1e3}},s.a.createElement("h1",null,"Hmm... it seems like you aren't listening to music.")),s.a.createElement("p",null,"You need to be playing a song on Spotify for something to appear here."),s.a.createElement("div",null,s.a.createElement(le.a.div,{onMouseMove:function(e){var t=e.clientX,a=e.clientY;return m({xys:c(t,a)})},onMouseLeave:function(){m({xys:[0,0,1]}),a(!1)},style:{transform:i.xys.interpolate((function(e,t,a){return"perspective(800px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) scale(").concat(a,")")}))},onMouseEnter:function(){return a(!0)}},s.a.createElement("div",null,s.a.createElement("a",{href:"https://www.andres-espitia.com/studyfi/"},s.a.createElement("img",{className:"sketchy-spotify",src:me.a,alt:"spotify-logo"}))))))},pe=(a(373),function(){var e,t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)({album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0}),m=Object(o.a)(l,2),p=m[0],d=m[1],f=Object(n.useState)("Paused"),E=Object(o.a)(f,2),g=E[0],v=E[1],h=Object(n.useState)(0),b=Object(o.a)(h,2),y=b[0],N=b[1],A=Object(n.useState)(!0),j=Object(o.a)(A,2),O=j[0],S=j[1];Object(n.useEffect)((function(){var t=u.access_token;return t&&(r(t),w(t)),e=setInterval((function(){k(t)}),1e3),function(){clearInterval(e)}}),[]);var k=function(e){e&&w(e)},w=function(e){i()({method:"get",url:"https://api.spotify.com/v1/me/player",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=e.data;t?(d(t.item),v(t.is_playing),N(t.progress_ms),S(!0)):S(t)}))};return s.a.createElement("div",{className:"App"},!c&&s.a.createElement("div",null,s.a.createElement(oe,null)),c&&O&&s.a.createElement(se,{item:p,isPlaying:g,progressms:y}),!O&&s.a.createElement(ue,null))});r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(pe,null)),document.getElementById("root"))},49:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="}},[[150,1,2]]]);
//# sourceMappingURL=main.429ef3d7.chunk.js.map