(this["webpackJsonpreact-spotify-player"]=this["webpackJsonpreact-spotify-player"]||[]).push([[0],{146:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII="},149:function(e,t,a){e.exports=a.p+"static/media/sketchyFavicon.4ab11064.png"},150:function(e,t,a){e.exports=a(373)},155:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},340:function(e,t){},343:function(e,t,a){},344:function(e,t,a){},365:function(e,t,a){},366:function(e,t,a){},367:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(140),o=a.n(s),r=(a(155),a(3)),l=a(33),i=a.n(l),m=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{});window.location.hash="";var u=m,p=a(14),d=a(141),f=a(6),E=a(13),g=a(48),v=a(21),b=a(31),h=a.n(b),y=a(24),N=a.n(y),A=a(47),j=a.n(A),O=(a(298),function(e,t){return[-(t-window.innerHeight/2)/25,(e-window.innerWidth/2)/25,1.01]}),S=function(e,t,a){return"perspective(800px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) scale(").concat(a,")")};E.b.add(g.a);var k,w,C=function(e){var t=e.item,a=e.isPlaying,s=e.progressms,o=e.season,l=Object(n.useState)([]),m=Object(r.a)(l,2),E=m[0],g=m[1],b=Object(n.useState)(!1),y=Object(r.a)(b,2),A=(y[0],y[1]),k=u.access_token,w=o?"seasonStyling":"",C=o?"seasonStylingAlt":"",I=function(){if(E.length>6&&(E.shift(),E.shift(),E.shift(),E.shift(),E.shift(),E.shift()),E.colors)return E.colors.map((function(e,t){return c.a.createElement("div",{key:t,style:{backgroundColor:e,width:60,height:15}})}))},x=Object(v.b)((function(){return{xys:[0,0,1],config:{mass:1,tension:180,friction:10}}})),M=Object(r.a)(x,2),B=M[0],R=M[1],D=s,z=0,T="0000-00-00",P="string"===typeof T?T.split("-")[0]:"",W="",Y="",U="",_="",G=t.artists[0].name+"+"+t.album.name;G=G.replace(" ","+"),t&&(z=t.duration_ms,P="string"===typeof(T=t.album.release_date)?T.split("-")[0]:"",W=t.album.images[0].url,U=h()(D).format("mm:ss"),_=h()(z).format("mm:ss"),t.artists.map((function(e){Y+="| ".concat(e.name," |")})));var L={width:100*D/z+"%"};return c.a.createElement("div",{className:"nowPlayingSide"},c.a.createElement(d.a,{getColors:function(e){return g((function(){return{colors:[E].concat(Object(p.a)(e))}}))}},c.a.createElement("img",{src:W,className:"imageStyles"})),c.a.createElement("div",{className:"swatchesStyles"},I()),c.a.createElement("div",null,c.a.createElement(v.a.div,{onMouseMove:function(e){var t=e.clientX,a=e.clientY;return R({xys:O(t,a)})},onMouseLeave:function(){R({xys:[0,0,1]}),A(!1)},style:{transform:B.xys.interpolate(S)},onMouseEnter:function(){return A(!0)}},c.a.createElement("div",null,c.a.createElement("a",{href:"https://www.google.com/search?q=".concat(G),target:"_blank"},c.a.createElement("img",{src:W,className:"nowPlayingAlbumCover"}))))),c.a.createElement("div",{className:"swatchesStyles"},I()),c.a.createElement("div",{className:"nowPlayingName"},c.a.createElement(j.a,{interval:2e3},["a",""].map((function(e){return c.a.createElement(N.a,{className:"pomodoroTitle",avgTypingDelay:90,key:e,startDelay:0,cursor:{show:!0,blink:!0,element:"",hideWhenDone:!1,hideWhenDoneDelay:1e3}},t.name)})))),c.a.createElement("div",{className:"nowPlayingArtists"},Y),c.a.createElement("div",{className:"nowPlayingAlbum"},t.album.name," - ",P),c.a.createElement("div",{className:"nowPlayingStatus"},c.a.createElement("div",null,c.a.createElement("button",{className:"skipbuttons ".concat(w),onClick:function(){i()({method:"post",url:"https://api.spotify.com/v1/me/player/previous",headers:{Authorization:"Bearer ".concat(k)}}).then((function(){console.log("replayed song")}))}},c.a.createElement(f.a,{className:"controlButtonsColouring",icon:["fas","arrow-alt-circle-left"]}))),a?"playing":"paused",c.a.createElement("div",null,c.a.createElement("button",{className:"skipbuttons ".concat(w),onClick:function(){i()({method:"post",url:"https://api.spotify.com/v1/me/player/next",headers:{Authorization:"Bearer ".concat(k)}}).then((function(){console.log("skipped song")}))}},c.a.createElement(f.a,{className:"controlButtonsColouring",icon:["fas","arrow-alt-circle-right"]})))),c.a.createElement("div",{className:"durationMenu"},c.a.createElement("p",{className:"durationMenuTimes"},U),c.a.createElement("div",{className:"progress"},c.a.createElement("div",{className:"progressBar ".concat(C," "),style:L})),c.a.createElement("p",{className:"durationMenuTimes"},_)))},I=(a(299),1499),x=25..toString(),M="00",B=!1,R="press on the play button below to begin";E.b.add(g.a);var D,z=function(e){var t=e.season,a=t?"seasonStyling":"",s=t?"seasonStylingAlt":"",o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(r.a)(u,2),d=p[0],E=p[1],g=Object(n.useState)(!1),v=Object(r.a)(g,2),b=v[0],h=v[1],y=Object(n.useState)(!1),N=Object(r.a)(y,2),A=(N[0],N[1],function(){E(!1),i||(I=1499,R=t?"spookspookspookspookspook":"WorkWorkWorkWorkWork",I++,O(I),B=!0,k=setInterval((function(){I>0?(I--,O(I),B=!0):(clearInterval(k),j())}),1e3),m(!0),h(!0))}),j=function(){I=300,R=t?"2sp00ky4me":"RestRestRestRestRest",I++,w=setInterval((function(){I>0?(I--,O(I),!0):(clearInterval(w),A())}),1e3)},O=function(e){var t=60*(x=Math.floor(e/60));x<10&&(x=0===x?"00":"0"+x.toString()),(M=e-t)<10&&(M=0===M?"00":"0"+M.toString())};return c.a.createElement("div",null,c.a.createElement("div",{className:"pomodoroHeader"},c.a.createElement("div",null,c.a.createElement("div",{className:"pomodoroHeaderTitle"},c.a.createElement("div",{className:"iconsSpacing ".concat(a,"Icons")},c.a.createElement(f.a,{icon:t?["fas","spider"]:["fas","pizza-slice"]})),c.a.createElement("div",{className:"iconsSpacing ".concat(s,"Icons")},c.a.createElement(f.a,{icon:t?["fas","ghost"]:["fas","utensils"]})),c.a.createElement("h1",{className:"pomodoroHeaderTitleText"},t?"pomodorooooo":"pomodoro"),c.a.createElement("div",{className:"iconsSpacing ".concat(s,"Icons")},c.a.createElement(f.a,{icon:t?["fas","ghost"]:["fas","utensils"]})),c.a.createElement("div",{className:"iconsSpacing ".concat(a,"Icons")},c.a.createElement(f.a,{icon:t?["fas","spider"]:["fas","pizza-slice"]})))),c.a.createElement("p",null,R)),c.a.createElement("div",{className:"pomodoroPanel"},c.a.createElement("button",{className:"controlButtons-pizzaslice ".concat(a),onClick:A,disabled:b},t?c.a.createElement(f.a,{className:"controlButtonsColouring",icon:["fas","spider"]}):c.a.createElement(f.a,{icon:["fas","pizza-slice"]})),c.a.createElement("button",{className:"controlButtons ".concat(s),onClick:function(){m(!1),h(!1),d||(R=t?"2sp00ky4me":"RestRestRestRestRest",clearInterval(k),B=!1,O(I=1500),E(!0))},disabled:d},c.a.createElement(f.a,{icon:["fas","undo"]})),c.a.createElement("button",{className:"controlButtons ".concat(s),onClick:A,disabled:i},B?c.a.createElement(f.a,{icon:["fas","pause"]}):c.a.createElement(f.a,{icon:["fas","play"]})),c.a.createElement("p",{className:"countdown ".concat(a)},c.a.createElement("div",{className:"controlButtonsColouring"},x,":",M))))},T=a(49),P=a(4),W=(a(300),a(301),function(e){for(var t=e.season,a=Object(n.useState)(""),s=Object(r.a)(a,2),o=s[0],l=s[1],i=Object(n.useState)(""),m=Object(r.a)(i,2),u=m[0],p=m[1],d=Object(n.useState)(""),f=Object(r.a)(d,2),E=f[0],g=f[1],v=t?"seasonStyling":"",b=t?"seasonStylingAlt":"",h=[],y=12;y>=1;y--)h.push("GMTplus"+y.toString());h.push("GMT");for(var N=1;N<=11;N++)h.push("GMTminus"+N.toString());return c.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},c.a.createElement("h1",{className:"heading ".concat(b,"Header")},"chat"),c.a.createElement("div",null,c.a.createElement("input",{placeholder:"name",className:"joinInput",type:"text",onChange:function(e){return l(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("input",{placeholder:"room",className:"joinInput mt-20",type:"text",onChange:function(e){return p(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("select",{className:"joinInput mt-20",defaultValue:"default",onChange:function(e){return g(e.target.value)}},c.a.createElement("option",{value:"default"},"choose your timezone"),h.map((function(e){return c.a.createElement("option",{value:e},e.includes("plus")?e.replace("plus","+"):e.replace("minus","-"))})))),c.a.createElement(T.b,{onClick:function(e){return o&&u&&E?null:e.preventDefault()},to:"/chat?name=".concat(o,"&room=").concat(u,"&tz=").concat(E)},c.a.createElement("button",{className:"button mt-20 ".concat(v),type:"submit"},"sign in")))}),Y=function(e){var t=e.duplicate,a=e.season;return t?c.a.createElement("div",null,c.a.createElement("div",{className:"joinOuterContainer"},c.a.createElement("div",{className:"joinInnerContainer"},c.a.createElement("p",{className:"duplicatemessage"},"That username is already taken."),c.a.createElement("p",{className:"duplicatemessage"},"Please use another one!"),c.a.createElement(W,{season:a})))):c.a.createElement("div",{className:"joinOuterContainer"},c.a.createElement("div",{className:"joinInnerContainer"},c.a.createElement(W,{season:a})))},U=a(143),_=a.n(U),G=a(144),L=a.n(G),Q=a(145),K=a.n(Q),H=a(146),J=a.n(H),V=a(50),X=a.n(V),F=(a(343),function(e){var t=e.room,a=e.season,n=a?"seasonStyling":"";return c.a.createElement("div",{className:"infoBar ".concat(n)},c.a.createElement("div",{className:"leftInnerContainer"},c.a.createElement("img",{className:"onlineIcon",src:X.a,alt:"online"}),c.a.createElement("h3",null,t)),c.a.createElement("div",{className:"rightInnerContainer"},c.a.createElement("a",{href:"https://www.andres-espitia.com/studyfi/#"},c.a.createElement("img",{src:J.a,alt:"close"}))))}),q=(a(344),function(e){var t=e.message,a=e.setMessage,n=e.sendMessage,s=e.item,o=e.season,r=o?"seasonStyling":"";return c.a.createElement("form",{className:"form"},c.a.createElement("input",{className:"input",type:"text",placeholder:"Enter a message...",value:t,onChange:function(e){return a(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),c.a.createElement("button",{className:"sendButton ".concat(r),onClick:function(e){return n(e)}},"Send"),c.a.createElement("button",{className:"sendButton ".concat(r),onClick:function(e){return function(e){var t="I'm listening to: ".concat(s.name," "),c="";s.artists.map((function(e){c+="- ".concat(e.name," ")})),c=c.substring(0,c.length-1),a(t+=c),n(e)}(e)}},"Share song!"))}),Z=a(147),$=a.n(Z),ee=a(83),te=a.n(ee),ae=(a(365),function(e){var t=e.message,a=t.user,n=t.text,s=t.currentTime,o=e.name,r=e.season,l=!1,i=r?"seasonStyling":"",m=r?"seasonStylingAlt":"",u=o.trim().toLowerCase();return a===u&&(l=!0),l?c.a.createElement("div",null,c.a.createElement("p",{className:"timestamp"},s),c.a.createElement("div",{className:"messageContainer justifyEnd"},c.a.createElement("p",{className:"sentText pr-10"},u),c.a.createElement("div",{className:"messageBox backgroundMain ".concat(i)},c.a.createElement("p",{className:"messageText colorWhite "},te.a.emojify(n))))):c.a.createElement("div",null,c.a.createElement("p",{className:"timestampotherusers"},s),c.a.createElement("div",{className:"messageContainer justifyStart"},c.a.createElement("div",{className:"messageBox backgroundLight ".concat(m)},c.a.createElement("p",{className:"messageText colorDark"},te.a.emojify(n))),c.a.createElement("p",{className:"sentText pl-10"},a)))}),ne=(a(366),function(e){var t=e.messages,a=e.name,n=e.season;return c.a.createElement($.a,{className:"messages"},t.filter((function(e,t,a){return a.indexOf(e)===t})).map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(ae,{message:e,name:a,season:n}))})))}),ce=(a(367),function(e){var t=e.users;return c.a.createElement("div",{className:"userslist"},t.length>1?c.a.createElement("div",null,c.a.createElement("p",null,"Online:"),c.a.createElement("div",{className:"activeContainer"},c.a.createElement("p",null,t.map((function(e){var t=e.name;return c.a.createElement("div",{key:t,className:"activeItem"},t,c.a.createElement("img",{alt:"Online Icon",src:X.a}))}))))):c.a.createElement("div",null,c.a.createElement("p",null,"Looks like you're alone in this chat room...")))}),se=(a(368),function(e){var t=e.location,a=e.item,s=e.season,o=Object(n.useState)(""),l=Object(r.a)(o,2),i=l[0],m=l[1],u=Object(n.useState)(""),d=Object(r.a)(u,2),f=d[0],E=d[1],g=Object(n.useState)(""),v=Object(r.a)(g,2),b=v[0],h=v[1],y=Object(n.useState)([]),N=Object(r.a)(y,2),A=N[0],j=N[1],O=Object(n.useState)(""),S=Object(r.a)(O,2),k=S[0],w=S[1],C=Object(n.useState)([]),I=Object(r.a)(C,2),x=I[0],M=I[1],B=Object(n.useState)(!1),R=Object(r.a)(B,2),z=R[0],T=R[1],P="https://react-chat-app-back-end.herokuapp.com/";Object(n.useEffect)((function(){var e=L.a.parse(t.search),a=e.name,n=e.room,c=e.tz;return D=K()(P,{transports:["websocket"]}),m(a),E(n),h(c),D.emit("join",{name:a,room:n,tz:c},(function(){})),D.on("reconnect_attempt",(function(){D.io.opts.transports=["websocket","polling"]})),function(){D.emit("disconnect"),D.off()}}),[P,t.search]),Object(n.useEffect)((function(){D.on("roomData",(function(e){var t=e.users;j(t)})),D.on("duplicate",(function(e){T(e.duplicate)}))})),Object(n.useEffect)((function(){D.on("message",(function(e){var t=b;t=t.includes("minus")?t.replace("minus","+"):t.replace("plus","-"),e.currentTime=_()().tz("Etc/".concat(t)).format("MMM DD h:mm a"),M((function(t){return[].concat(Object(p.a)(t),[e])}))}))}),[i]);return z?c.a.createElement(Y,{duplicate:z,season:s}):c.a.createElement("div",{className:"outerContainer"},c.a.createElement("div",{className:"container"},c.a.createElement(F,{room:f,season:s}),c.a.createElement(ne,{messages:x,name:i,season:s}),c.a.createElement(q,{message:k,setMessage:w,sendMessage:function(e){e.preventDefault(),k&&D.emit("sendMessage",k,(function(){return w("")}))},item:a,season:s})),c.a.createElement(ce,{users:A}))}),oe=function(e){return c.a.createElement(T.a,{basename:"/studyfi"},c.a.createElement(P.a,{path:"/",exact:!0,render:function(t){return c.a.createElement(Y,Object.assign({},t,e))}}),c.a.createElement(P.a,{path:"/chat",exact:!0,render:function(t){return c.a.createElement(se,Object.assign({},t,e))}}))};a(369);var re=function(e){var t=e.item,a=e.isPlaying,s=e.progressms,o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],m=l[1];return c.a.createElement("div",null,c.a.createElement("div",{className:"main-wrapper"},c.a.createElement("div",{className:"dashboard-item"},c.a.createElement(z,{season:i})),c.a.createElement("div",{className:"dashboard-item"},c.a.createElement("button",{className:"seasonSelect",onClick:function(){m(!i)}},"Halloween mode!"),c.a.createElement(C,{item:t,isPlaying:a,progressms:s,season:i})),c.a.createElement("div",{className:"dashboard-item"},c.a.createElement(oe,{item:t,season:i}))))},le=["user-top-read","user-read-currently-playing","user-read-playback-state","user-modify-playback-state"],ie=a(148);a(370);E.b.add(ie.a);var me=function(){return c.a.createElement("div",{className:"main-wrapper-landing-page"},c.a.createElement("div",{className:"app-title"},"Studyfi"),c.a.createElement(j.a,{interval:700},["dummytext",""].map((function(e){return c.a.createElement(N.a,{className:"app-description",avgTypingDelay:60,key:e,startDelay:0},"A place to study, listen to music, and chat with friends.")}))),c.a.createElement("a",{className:"login-button",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("53bcecd410634483b5388541c159849d","&redirect_uri=").concat("http://andres-espitia.com/studyfi/","&scope=").concat(le.join("%20"),"&response_type=token&show_dialog=true"),target:""},c.a.createElement(f.a,{icon:["fab","spotify"],size:"10x"}),c.a.createElement("p",{className:"login-description"},"Login with Spotify")),c.a.createElement("div",{className:"footer"},c.a.createElement("div",null,"\xa9 Studyfi 2020"),c.a.createElement("div",null,"Created by Andres Espitia")))},ue=(a(371),a(149)),pe=a.n(ue);var de=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=(t[0],t[1]),s=Object(v.b)((function(){return{xys:[0,0,1],config:{mass:1,tension:180,friction:10}}})),o=Object(r.a)(s,2),l=o[0],i=o[1];return c.a.createElement("div",{className:"not-found-page-wrapper"},c.a.createElement(N.a,{avgTypingDelay:60,cursor:{show:!0,blink:!0,element:"",hideWhenDone:!1,hideWhenDoneDelay:1e3}},c.a.createElement("h1",null,"Hmm... it seems like you aren't listening to music.")),c.a.createElement("p",null,"You need to be playing a song on Spotify for something to appear here."),c.a.createElement("div",null,c.a.createElement(v.a.div,{onMouseMove:function(e){var t=e.clientX,a=e.clientY;return i({xys:O(t,a)})},onMouseLeave:function(){i({xys:[0,0,1]}),a(!1)},style:{transform:l.xys.interpolate(S)},onMouseEnter:function(){return a(!0)}},c.a.createElement("div",null,c.a.createElement("a",{href:"https://www.andres-espitia.com/studyfi/"},c.a.createElement("img",{className:"sketchy-spotify",src:pe.a,alt:"spotify-logo"}))))))},fe=(a(372),function(){var e,t=Object(n.useState)(null),a=Object(r.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)({album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0}),m=Object(r.a)(l,2),p=m[0],d=m[1],f=Object(n.useState)("Paused"),E=Object(r.a)(f,2),g=E[0],v=E[1],b=Object(n.useState)(0),h=Object(r.a)(b,2),y=h[0],N=h[1],A=Object(n.useState)(!0),j=Object(r.a)(A,2),O=j[0],S=j[1];Object(n.useEffect)((function(){var t=u.access_token;return t&&(o(t),w(t)),e=setInterval((function(){k(t)}),1e3),function(){clearInterval(e)}}),[]);var k=function(e){e&&w(e)},w=function(e){i()({method:"get",url:"https://api.spotify.com/v1/me/player",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=e.data;t?(d(t.item),v(t.is_playing),N(t.progress_ms),S(!0)):S(t)}))};return c.a.createElement("div",{className:"App"},!s&&c.a.createElement("div",null,c.a.createElement(me,null)),s&&O&&c.a.createElement(re,{item:p,isPlaying:g,progressms:y}),!O&&c.a.createElement(de,null))});o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(fe,null)),document.getElementById("root"))},50:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="}},[[150,1,2]]]);
//# sourceMappingURL=main.459d44c2.chunk.js.map