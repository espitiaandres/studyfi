(this["webpackJsonpreact-spotify-player"]=this["webpackJsonpreact-spotify-player"]||[]).push([[0],{146:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII="},149:function(e,t,a){e.exports=a.p+"static/media/sketchyFavicon.4ab11064.png"},150:function(e,t,a){e.exports=a(374)},155:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},340:function(e,t){},343:function(e,t,a){},344:function(e,t,a){},365:function(e,t,a){},366:function(e,t,a){},367:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(140),r=a.n(c),o=(a(155),a(3)),l=a(18),i=a.n(l),m=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{});window.location.hash="";var u=m,p=a(14),d=a(141),f=a(6),E=a(13),g=a(48),v=a(25),h=a(32),b=a.n(h),y=a(24),N=a.n(y),A=a(47),j=a.n(A),O=(a(298),function(e,t){return[-(t-window.innerHeight/2)/25,(e-window.innerWidth/2)/25,1.01]}),S=function(e,t,a){return"perspective(800px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) scale(").concat(a,")")};E.b.add(g.a);var k,w,C=function(e){var t=e.item,a=e.isPlaying,c=e.progressms,r=e.season,l=Object(n.useState)([]),m=Object(o.a)(l,2),E=m[0],g=m[1],h=Object(n.useState)(!1),y=Object(o.a)(h,2),A=(y[0],y[1]),k=u.access_token,w=r?"seasonStyling":"",C=r?"seasonStylingAlt":"",I=function(){if(E.length>6&&(E.shift(),E.shift(),E.shift(),E.shift(),E.shift(),E.shift()),E.colors)return E.colors.map((function(e,t){return s.a.createElement("div",{key:t,style:{backgroundColor:e,width:60,height:15}})}))},x=Object(v.b)((function(){return{xys:[0,0,1],config:{mass:1,tension:180,friction:10}}})),M=Object(o.a)(x,2),B=M[0],D=M[1],z=c,R=0,T="0000-00-00",W="string"===typeof T?T.split("-")[0]:"",P="",_="",Y="",U="",G=t.artists[0].name+"+"+t.album.name;G=G.replace(" ","+"),t&&(R=t.duration_ms,W="string"===typeof(T=t.album.release_date)?T.split("-")[0]:"",P=t.album.images[0].url,Y=b()(z).format("mm:ss"),U=b()(R).format("mm:ss"),t.artists.map((function(e){_+="| ".concat(e.name," |")})));var L={width:100*z/R+"%"};return s.a.createElement("div",{className:"nowPlayingSide"},s.a.createElement(d.a,{getColors:function(e){return g((function(){return{colors:[E].concat(Object(p.a)(e))}}))}},s.a.createElement("img",{src:P,className:"imageStyles"})),s.a.createElement("div",{className:"swatchesStyles"},I()),s.a.createElement("div",null,s.a.createElement(v.a.div,{onMouseMove:function(e){var t=e.clientX,a=e.clientY;return D({xys:O(t,a)})},onMouseLeave:function(){D({xys:[0,0,1]}),A(!1)},style:{transform:B.xys.interpolate(S)},onMouseEnter:function(){return A(!0)}},s.a.createElement("a",{href:"https://www.google.com/search?q=".concat(G),target:"_blank"},s.a.createElement("img",{src:P,className:"nowPlayingAlbumCover"})))),s.a.createElement("div",{className:"swatchesStyles"},I()),s.a.createElement("div",{className:"nowPlayingName"},s.a.createElement(j.a,{interval:2e3},["a",""].map((function(e){return s.a.createElement(N.a,{className:"pomodoroTitle",avgTypingDelay:90,key:e,startDelay:0,cursor:{show:!0,blink:!0,element:"",hideWhenDone:!1,hideWhenDoneDelay:1e3}},t.name)})))),s.a.createElement("div",{className:"nowPlayingArtists"},_),s.a.createElement("div",{className:"nowPlayingAlbum"},t.album.name," - ",W),s.a.createElement("div",{className:"nowPlayingStatus"},s.a.createElement("div",null,s.a.createElement("button",{className:"skipbuttons ".concat(w),onClick:function(){i()({method:"post",url:"https://api.spotify.com/v1/me/player/previous",headers:{Authorization:"Bearer ".concat(k)}}).then((function(){console.log("replayed song")}))}},s.a.createElement(f.a,{className:"controlButtonsColouring",icon:["fas","arrow-alt-circle-left"]}))),a?"playing":"paused",s.a.createElement("div",null,s.a.createElement("button",{className:"skipbuttons ".concat(w),onClick:function(){i()({method:"post",url:"https://api.spotify.com/v1/me/player/next",headers:{Authorization:"Bearer ".concat(k)}}).then((function(){console.log("skipped song")}))}},s.a.createElement(f.a,{className:"controlButtonsColouring",icon:["fas","arrow-alt-circle-right"]})))),s.a.createElement("div",{className:"durationMenu"},s.a.createElement("p",{className:"durationMenuTimes"},Y),s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"progressBar ".concat(C," "),style:L})),s.a.createElement("p",{className:"durationMenuTimes"},U)))},I=(a(299),1499),x=25..toString(),M="00",B=!1,D="press on the play button below to begin";E.b.add(g.a);var z,R=function(e){var t=e.season,a=t?"seasonStyling":"",c=t?"seasonStylingAlt":"",r=Object(n.useState)(!1),l=Object(o.a)(r,2),i=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(o.a)(u,2),d=p[0],E=p[1],g=Object(n.useState)(!1),v=Object(o.a)(g,2),h=v[0],b=v[1],y=function(){E(!1),i||(I=1499,D=t?"spookspookspookspookspook":"WorkWorkWorkWorkWork",I++,A(I),B=!0,k=setInterval((function(){I>0?(I--,A(I),B=!0):(clearInterval(k),N())}),1e3),m(!0),b(!0))},N=function(){I=300,D=t?"2sp00ky4me":"RestRestRestRestRest",I++,w=setInterval((function(){I>0?(I--,A(I),!0):(clearInterval(w),y())}),1e3)},A=function(e){var t=60*(x=Math.floor(e/60));x<10&&(x=0===x?"00":"0"+x.toString()),(M=e-t)<10&&(M=0===M?"00":"0"+M.toString())};return s.a.createElement("div",null,s.a.createElement("div",{className:"pomodoroHeader"},s.a.createElement("div",null,s.a.createElement("div",{className:"pomodoroHeaderTitle"},s.a.createElement("div",{className:"iconsSpacing ".concat(a,"Icons")},s.a.createElement(f.a,{icon:t?["fas","spider"]:["fas","pizza-slice"]})),s.a.createElement("div",{className:"iconsSpacing ".concat(c,"Icons")},s.a.createElement(f.a,{icon:t?["fas","ghost"]:["fas","utensils"]})),s.a.createElement("h1",{className:"pomodoroHeaderTitleText"},t?"pomodorooooo":"pomodoro"),s.a.createElement("div",{className:"iconsSpacing ".concat(c,"Icons")},s.a.createElement(f.a,{icon:t?["fas","ghost"]:["fas","utensils"]})),s.a.createElement("div",{className:"iconsSpacing ".concat(a,"Icons")},s.a.createElement(f.a,{icon:t?["fas","spider"]:["fas","pizza-slice"]})))),s.a.createElement("p",null,D)),s.a.createElement("div",{className:"pomodoroPanel"},s.a.createElement("button",{className:"controlButtons-pizzaslice ".concat(a),onClick:y,disabled:h},t?s.a.createElement(f.a,{className:"controlButtonsColouring",icon:["fas","spider"]}):s.a.createElement(f.a,{icon:["fas","pizza-slice"]})),s.a.createElement("button",{className:"controlButtons ".concat(c),onClick:function(){m(!1),b(!1),d||(D=t?"2sp00ky4me":"RestRestRestRestRest",clearInterval(k),B=!1,A(I=1500),E(!0))},disabled:d},s.a.createElement(f.a,{icon:["fas","undo"]})),s.a.createElement("button",{className:"controlButtons ".concat(c),onClick:y,disabled:i},B?s.a.createElement(f.a,{icon:["fas","pause"]}):s.a.createElement(f.a,{icon:["fas","play"]})),s.a.createElement("p",{className:"countdown ".concat(a)},s.a.createElement("div",{className:"controlButtonsColouring"},x,":",M))))},T=a(49),W=a(4),P=(a(300),a(301),function(e){for(var t=e.season,a=Object(n.useState)(""),c=Object(o.a)(a,2),r=c[0],l=c[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),u=m[0],p=m[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),E=f[0],g=f[1],v=t?"seasonStyling":"",h=t?"seasonStylingAlt":"",b=[],y=12;y>=1;y--)b.push("GMTplus"+y.toString());b.push("GMT");for(var N=1;N<=11;N++)b.push("GMTminus"+N.toString());return s.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},s.a.createElement("h1",{className:"heading ".concat(h,"Header")},"chat"),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"name",className:"joinInput",type:"text",onChange:function(e){return l(e.target.value)}})),s.a.createElement("div",null,s.a.createElement("input",{placeholder:"room",className:"joinInput mt-20",type:"text",onChange:function(e){return p(e.target.value)}})),s.a.createElement("div",null,s.a.createElement("select",{className:"joinInput mt-20",defaultValue:"default",onChange:function(e){return g(e.target.value)}},s.a.createElement("option",{value:"default"},"choose your timezone"),b.map((function(e){return s.a.createElement("option",{value:e},e.includes("plus")?e.replace("plus","+"):e.replace("minus","-"))})))),s.a.createElement(T.b,{onClick:function(e){return r&&u&&E?null:e.preventDefault()},to:"/chat?name=".concat(r,"&room=").concat(u,"&tz=").concat(E)},s.a.createElement("button",{className:"button mt-20 ".concat(v),type:"submit"},"sign in")))}),_=function(e){var t=e.duplicate,a=e.season;return t?s.a.createElement("div",null,s.a.createElement("div",{className:"joinOuterContainer"},s.a.createElement("div",{className:"joinInnerContainer"},s.a.createElement("p",{className:"duplicatemessage"},"That username is already taken."),s.a.createElement("p",{className:"duplicatemessage"},"Please use another one!"),s.a.createElement(P,{season:a})))):s.a.createElement("div",{className:"joinOuterContainer"},s.a.createElement("div",{className:"joinInnerContainer"},s.a.createElement(P,{season:a})))},Y=a(143),U=a.n(Y),G=a(144),L=a.n(G),Q=a(145),K=a.n(Q),H=a(146),J=a.n(H),V=a(50),X=a.n(V),F=(a(343),function(e){var t=e.room,a=e.season,n=a?"seasonStyling":"";return s.a.createElement("div",{className:"infoBar ".concat(n)},s.a.createElement("div",{className:"leftInnerContainer"},s.a.createElement("img",{className:"onlineIcon",src:X.a,alt:"online"}),s.a.createElement("h3",null,t)),s.a.createElement("div",{className:"rightInnerContainer"},s.a.createElement("a",{href:"https://www.andres-espitia.com/studyfi/#"},s.a.createElement("img",{src:J.a,alt:"close"}))))}),q=(a(344),function(e){var t=e.message,a=e.setMessage,n=e.sendMessage,c=e.item,r=e.season,o=r?"seasonStyling":"";return s.a.createElement("form",{className:"form"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Enter a message...",value:t,onChange:function(e){return a(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),s.a.createElement("button",{className:"sendButton ".concat(o),onClick:function(e){return n(e)}},"Send"),s.a.createElement("button",{className:"sendButton ".concat(o),onClick:function(e){return function(e){var t="I'm listening to: ".concat(c.name," "),s="";c.artists.map((function(e){s+="- ".concat(e.name," ")})),s=s.substring(0,s.length-1),a(t+=s),n(e)}(e)}},"Share song!"))}),Z=a(147),$=a.n(Z),ee=a(83),te=a.n(ee),ae=(a(365),function(e){var t=e.message,a=t.user,n=t.text,c=t.currentTime,r=e.name,o=e.season,l=!1,i=o?"seasonStyling":"",m=o?"seasonStylingAlt":"",u=r.trim().toLowerCase();return a===u&&(l=!0),l?s.a.createElement("div",null,s.a.createElement("p",{className:"timestamp"},c),s.a.createElement("div",{className:"messageContainer justifyEnd"},s.a.createElement("p",{className:"sentText pr-10"},u),s.a.createElement("div",{className:"messageBox backgroundMain ".concat(i)},s.a.createElement("p",{className:"messageText colorWhite "},te.a.emojify(n))))):s.a.createElement("div",null,s.a.createElement("p",{className:"timestampotherusers"},c),s.a.createElement("div",{className:"messageContainer justifyStart"},s.a.createElement("div",{className:"messageBox backgroundLight ".concat(m)},s.a.createElement("p",{className:"messageText colorDark"},te.a.emojify(n))),s.a.createElement("p",{className:"sentText pl-10"},a)))}),ne=(a(366),function(e){var t=e.messages,a=e.name,n=e.season;return s.a.createElement($.a,{className:"messages"},t.filter((function(e,t,a){return a.indexOf(e)===t})).map((function(e,t){return s.a.createElement("div",{key:t},s.a.createElement(ae,{message:e,name:a,season:n}))})))}),se=(a(367),function(e){var t=e.users;return s.a.createElement("div",{className:"userslist"},t.length>1?s.a.createElement("div",null,s.a.createElement("p",null,"Online:"),s.a.createElement("div",{className:"activeContainer"},s.a.createElement("p",null,t.map((function(e){var t=e.name;return s.a.createElement("div",{key:t,className:"activeItem"},t,s.a.createElement("img",{alt:"Online Icon",src:X.a}))}))))):s.a.createElement("div",null,s.a.createElement("p",null,"Looks like you're alone in this chat room...")))}),ce=(a(368),function(e){var t=e.location,a=e.item,c=e.season,r=Object(n.useState)(""),l=Object(o.a)(r,2),i=l[0],m=l[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),f=d[0],E=d[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),h=v[0],b=v[1],y=Object(n.useState)([]),N=Object(o.a)(y,2),A=N[0],j=N[1],O=Object(n.useState)(""),S=Object(o.a)(O,2),k=S[0],w=S[1],C=Object(n.useState)([]),I=Object(o.a)(C,2),x=I[0],M=I[1],B=Object(n.useState)(!1),D=Object(o.a)(B,2),R=D[0],T=D[1],W="https://react-chat-app-back-end.herokuapp.com/";Object(n.useEffect)((function(){var e=L.a.parse(t.search),a=e.name,n=e.room,s=e.tz;return z=K()(W,{transports:["websocket"]}),m(a),E(n),b(s),z.emit("join",{name:a,room:n,tz:s},(function(){})),z.on("reconnect_attempt",(function(){z.io.opts.transports=["websocket","polling"]})),function(){z.emit("disconnect"),z.off()}}),[W,t.search]),Object(n.useEffect)((function(){z.on("roomData",(function(e){var t=e.users;j(t)})),z.on("duplicate",(function(e){T(e.duplicate)}))})),Object(n.useEffect)((function(){z.on("message",(function(e){var t=h;t=t.includes("minus")?t.replace("minus","+"):t.replace("plus","-"),e.currentTime=U()().tz("Etc/".concat(t)).format("MMM DD h:mm a"),M((function(t){return[].concat(Object(p.a)(t),[e])}))}))}),[i]);return R?s.a.createElement(_,{duplicate:R,season:c}):s.a.createElement("div",{className:"outerContainer"},s.a.createElement("div",{className:"container"},s.a.createElement(F,{room:f,season:c}),s.a.createElement(ne,{messages:x,name:i,season:c}),s.a.createElement(q,{message:k,setMessage:w,sendMessage:function(e){e.preventDefault(),k&&z.emit("sendMessage",k,(function(){return w("")}))},item:a,season:c})),s.a.createElement(se,{users:A}))}),re=function(e){return s.a.createElement(T.a,{basename:"/studyfi"},s.a.createElement(W.a,{path:"/",exact:!0,render:function(t){return s.a.createElement(_,Object.assign({},t,e))}}),s.a.createElement(W.a,{path:"/chat",exact:!0,render:function(t){return s.a.createElement(ce,Object.assign({},t,e))}}))};a(369);var oe=function(){var e=u.access_token,t=[];return Object(n.useEffect)((function(){var a="";i()({method:"get",url:"https://api.spotify.com/v1/me/top/tracks",headers:{Authorization:"Bearer ".concat(e)},params:{limit:50,time_range:"long_term"}}).then((function(n){n.data.items.map((function(e){var n="",s={};s.name=e.name,s.album=e.album.name,s.albumCover=e.album.images[2].url,s.releaseDate=e.album.release_date,s.id=e.id,a+=e.id+",",e.artists.map((function(e){n+="".concat(e.name,", ")})),s.artists=n.slice(0,-2),t.push(s)})),a=a.slice(0,-1),i()({method:"get",url:"https://api.spotify.com/v1/audio-features/",headers:{Authorization:"Bearer ".concat(e)},params:{ids:a}}).then((function(e){t.map((function(t){e.data.audio_features.map((function(e){t.acousticness=e.acousticness,t.danceability=e.danceability,t.energy=e.energy,t.key=e.key,t.instrumentalness=e.instrumentalness,t.valence=e.valence}))})),console.log(t)}))}))}),[]),s.a.createElement("div",null,s.a.createElement("h1",null,"your most listened to artists and tracks"))};a(370);var le=function(e){var t=e.item,a=e.isPlaying,c=e.progressms,r=Object(n.useState)(!1),l=Object(o.a)(r,2),i=l[0],m=l[1];return s.a.createElement("div",{className:"overallDashboardWrapper"},s.a.createElement("div",{className:"maindDashboardWrapper"},s.a.createElement("div",{className:"dashboard-item"},s.a.createElement(R,{season:i})),s.a.createElement("div",{className:"dashboard-item"},s.a.createElement("button",{className:"seasonSelect",onClick:function(){m(!i)}},"Halloween mode!"),s.a.createElement(C,{item:t,isPlaying:a,progressms:c,season:i})),s.a.createElement("div",{className:"dashboard-item"},s.a.createElement(re,{item:t,season:i}))),s.a.createElement("div",{className:"maindDashboardWrapper"},s.a.createElement(oe,null)))},ie=["user-top-read","user-read-currently-playing","user-read-playback-state","user-modify-playback-state"],me=a(148);a(371);E.b.add(me.a);var ue=function(){return s.a.createElement("div",{className:"main-wrapper-landing-page"},s.a.createElement("div",{className:"app-title"},"Studyfi"),s.a.createElement(j.a,{interval:700},["dummytext",""].map((function(e){return s.a.createElement(N.a,{className:"app-description",avgTypingDelay:60,key:e,startDelay:0},"A place to study, listen to music, and chat with friends.")}))),s.a.createElement("a",{className:"login-button",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("53bcecd410634483b5388541c159849d","&redirect_uri=").concat("http://andres-espitia.com/studyfi/","&scope=").concat(ie.join("%20"),"&response_type=token&show_dialog=true"),target:""},s.a.createElement(f.a,{icon:["fab","spotify"],size:"10x"}),s.a.createElement("p",{className:"login-description"},"Login with Spotify")),s.a.createElement("div",{className:"footer"},s.a.createElement("div",null,"\xa9 Studyfi 2020"),s.a.createElement("div",null,"Created by Andres Espitia")))},pe=(a(372),a(149)),de=a.n(pe);var fe=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=(t[0],t[1]),c=Object(v.b)((function(){return{xys:[0,0,1],config:{mass:1,tension:180,friction:10}}})),r=Object(o.a)(c,2),l=r[0],i=r[1];return s.a.createElement("div",{className:"not-found-page-wrapper"},s.a.createElement(N.a,{avgTypingDelay:60,cursor:{show:!0,blink:!0,element:"",hideWhenDone:!1,hideWhenDoneDelay:1e3}},s.a.createElement("h1",null,"Hmm... it seems like you aren't listening to music.")),s.a.createElement("p",null,"You need to be playing a song on Spotify for something to appear here."),s.a.createElement("div",null,s.a.createElement(v.a.div,{onMouseMove:function(e){var t=e.clientX,a=e.clientY;return i({xys:O(t,a)})},onMouseLeave:function(){i({xys:[0,0,1]}),a(!1)},style:{transform:l.xys.interpolate(S)},onMouseEnter:function(){return a(!0)}},s.a.createElement("div",null,s.a.createElement("a",{href:"https://www.andres-espitia.com/studyfi/"},s.a.createElement("img",{className:"sketchy-spotify",src:de.a,alt:"spotify-logo"}))))))},Ee=(a(373),function(){var e,t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)({album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0}),m=Object(o.a)(l,2),p=m[0],d=m[1],f=Object(n.useState)("Paused"),E=Object(o.a)(f,2),g=E[0],v=E[1],h=Object(n.useState)(0),b=Object(o.a)(h,2),y=b[0],N=b[1],A=Object(n.useState)(!0),j=Object(o.a)(A,2),O=j[0],S=j[1];Object(n.useEffect)((function(){var t=u.access_token;return t&&(r(t),w(t)),e=setInterval((function(){k(t)}),1e3),function(){clearInterval(e)}}),[]);var k=function(e){e&&w(e)},w=function(e){i()({method:"get",url:"https://api.spotify.com/v1/me/player",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=e.data;t?(d(t.item),v(t.is_playing),N(t.progress_ms),S(!0)):S(t)}))};return s.a.createElement("div",{className:"App"},!c&&s.a.createElement("div",null,s.a.createElement(ue,null)),c&&O&&s.a.createElement(le,{item:p,isPlaying:g,progressms:y}),!O&&s.a.createElement(fe,null))});r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Ee,null)),document.getElementById("root"))},50:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="}},[[150,1,2]]]);
//# sourceMappingURL=main.c1569af1.chunk.js.map